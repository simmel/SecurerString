apply plugin: 'java'
apply plugin: 'maven-publish'
defaultTasks 'build'

repositories.mavenCentral()

group = "se.soy.${project.name.toLowerCase()}"
version = "1.0"

dependencies.testCompile 'junit:junit:4.+'

test {
    systemProperty "temporaryDir", "${temporaryDir}"
    reports.junitXml.enabled = false
    reports.html.enabled = false
    forkEvery 1
    maxParallelForks Runtime.getRuntime().availableProcessors();
}

publishing {
  publications {
    "${project.name}"(MavenPublication) {
      from components.java
    }
  }
}

jar.manifest.attributes 'Main-Class': "${group}.${project.name}"
